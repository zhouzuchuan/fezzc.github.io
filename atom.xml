<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>成长史</title>
  
  <subtitle>程序猿的自我修养</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://zhouzuchuan.github.io/"/>
  <updated>2020-03-06T06:07:44.029Z</updated>
  <id>https://zhouzuchuan.github.io/</id>
  
  <author>
    <name>马上 · fezzc</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>JS中new Date()获取相对时间</title>
    <link href="https://zhouzuchuan.github.io/2018/09/12/JS%E4%B8%ADnew-Date-%E8%8E%B7%E5%8F%96%E7%9B%B8%E5%AF%B9%E6%97%B6%E9%97%B4/"/>
    <id>https://zhouzuchuan.github.io/2018/09/12/JS中new-Date-获取相对时间/</id>
    <published>2018-09-12T23:31:14.000Z</published>
    <updated>2020-03-06T06:07:44.029Z</updated>
    
    <content type="html"><![CDATA[<p>今天由于项目需求，看了下 <a href="https://github.com/js-cookie/js-cookie" target="_blank" rel="noopener">js-cookie</a> 的源码，发现了一段代码比较有意思，分享一下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">attributes.expires = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="keyword">new</span> <span class="built_in">Date</span>() * <span class="number">1</span> + attributes.expires * <span class="number">864e5</span>);</span><br></pre></td></tr></table></figure><p>其中 <code>new Date() * 1</code> 会隐式调用 <code>Date.prototype</code> 上的 <code>valueOf()</code> 方法，而该方法等同于 <code>Date.prototype.getTime()</code></p><p>下面四种获取的结果都是一样的</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>().valueOf();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line"></span><br><span class="line">newDate() * <span class="number">1</span></span><br><span class="line"></span><br><span class="line">+newDate();</span><br></pre></td></tr></table></figure><p><code>864e5</code> 是一天的毫秒数，采用的是科学计数法 等同于 <code>86400000</code></p><p>SO：上面的代码就很好理解了，就是给当前 cookie 设置有效期，而有效期是在当前时间的基础上加上设置的天数</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>通过这种可以处理相对当前时间的前一天、后一天等相对时间，不必引入三方库，反而增加了应用的大小</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;今天由于项目需求，看了下 &lt;a href=&quot;https://github.com/js-cookie/js-cookie&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;js-cookie&lt;/a&gt; 的源码，发现了一段代码比较有意思，分享一下&lt;/p&gt;
&lt;fig
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hello HEXO</title>
    <link href="https://zhouzuchuan.github.io/2018/09/11/hello-world/"/>
    <id>https://zhouzuchuan.github.io/2018/09/11/hello-world/</id>
    <published>2018-09-11T23:31:14.000Z</published>
    <updated>2020-03-06T06:07:44.029Z</updated>
    
    <content type="html"><![CDATA[<p>github 上部署成功！yeah!!!</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;github 上部署成功！yeah!!!&lt;/p&gt;

      
    
    </summary>
    
    
  </entry>
  
</feed>
